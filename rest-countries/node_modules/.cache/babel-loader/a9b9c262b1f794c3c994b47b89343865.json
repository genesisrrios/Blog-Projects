{"remainingRequest":"C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\src\\components\\Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\src\\components\\Map.vue","mtime":1598384707953},{"path":"C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\jmaldonado\\Documents\\VueJS-ConsumingAPIS\\rest-countries\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwovLwovLwovLwovLwppbXBvcnQgeyBidXMgfSBmcm9tICcuLi9tYWluJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtYXA6IG51bGwsCiAgICAgIGFwaVJlc3VsdHM6IG51bGwsCiAgICAgIG1hcmtlcjogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGJ1cy4kb24oJ3VzZXItaW5wdXQnLCBmdW5jdGlvbiAodXNlcklucHV0KSB7CiAgICAgIF90aGlzLmdldENvdW50cnlJbmZvcm1hdGlvbih1c2VySW5wdXQpOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5wcmVwYXJlTWFwKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDb3VudHJ5SW5mb3JtYXRpb246IGZ1bmN0aW9uIGdldENvdW50cnlJbmZvcm1hdGlvbih1c2VySW5wdXQpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICBmZXRjaCgiaHR0cHM6Ly9yZXN0Y291bnRyaWVzLmV1L3Jlc3QvdjIvbmFtZS8iLmNvbmNhdCh1c2VySW5wdXQpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gc2VsZi5hcGlSZXN1bHRzID0gZGF0YVswXTsKICAgICAgfSk7CiAgICB9LAogICAgcHJlcGFyZU1hcDogZnVuY3Rpb24gcHJlcGFyZU1hcCgpIHsKICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgdGhpcy5tYXAgPSBMLm1hcCgnbWFwJykuc2V0VmlldyhbMTguMjM4OCwgLTY2LjAzNTJdLCAxMyk7CiAgICAgIHZhciBtYWlubGF5ZXIgPSBMLnRpbGVMYXllcignaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLCB7CiAgICAgICAgbWF4Wm9vbTogMTgsCiAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgPGEgaHJlZj0iaHR0cDovL3d3dy5vcGVuc3RyZWV0bWFwLm9yZy9jb3B5cmlnaHQiPk9wZW5TdHJlZXRNYXA8L2E+LCAmY29weTsgPGEgaHJlZj0iaHR0cHM6Ly9jYXJ0by5jb20vYXR0cmlidXRpb24iPkNBUlRPPC9hPicKICAgICAgfSk7CiAgICAgIG1haW5sYXllci5hZGRUbyh0aGlzLm1hcCk7CiAgICB9LAogICAgbWFya0Nvb3JkaW5hdGVzOiBmdW5jdGlvbiBtYXJrQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMpIHsKICAgICAgaWYgKHRoaXMubWFya2VyKSB0aGlzLm1hcC5yZW1vdmVMYXllcih0aGlzLm1hcmtlcik7CiAgICAgIHRoaXMubWFya2VyID0gTC5tYXJrZXIoY29vcmRpbmF0ZXMpLmFkZFRvKHRoaXMubWFwKTsKICAgICAgdGhpcy5tYXAuZmx5VG8oY29vcmRpbmF0ZXMsIDEwKTsKICAgIH0sCiAgICBtYXBJbmZvcm1hdGlvbkNvbnRyb2w6IGZ1bmN0aW9uIG1hcEluZm9ybWF0aW9uQ29udHJvbCgpIHsKICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbGVhZmxldC1pbmZvcm1hdGlvbi1ib3gnKTsKICAgICAgaWYgKGVsZW1lbnQpIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB2YXIgaW5mb3JtYXRpb25Cb3ggPSBMLmNvbnRyb2woewogICAgICAgIHBvc2l0aW9uOiAnYm90dG9tbGVmdCcKICAgICAgfSk7CiAgICAgIHZhciBkaXYgPSBMLkRvbVV0aWwuY3JlYXRlKCdkaXYnLCAnbGVhZmxldC1iYXIgbGVhZmxldC1jb250cm9sIGxlYWZsZXQtY29udHJvbC1jdXN0b20nKTsKICAgICAgZGl2LmlkID0gJ2xlYWZsZXQtaW5mb3JtYXRpb24tYm94JzsKICAgICAgZGl2LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd3aGl0ZSc7CiAgICAgIGRpdi5zdHlsZS53aWR0aCA9ICcxMDAlJzsKICAgICAgZGl2LnN0eWxlLnBhZGRpbmdUb3AgPSAnMTBweCc7CiAgICAgIGRpdi5zdHlsZS5wYWRkaW5nTGVmdCA9ICc3cHgnOwogICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gJzQwMHB4JzsKICAgICAgZGl2LmRhdGFfdG9nZ2xlID0gJ2NvbnRyb2wtc2lkZWJhcic7CiAgICAgIGRpdi5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJzsKICAgICAgZGl2LmlubmVySFRNTCArPSAiPGg1PkluZm9ybWFjaW9uIHNvYnJlOiAiLmNvbmNhdCh0aGlzLmFwaVJlc3VsdHMubmFtZSwgIjwvaDU+Iik7CiAgICAgIGRpdi5pbm5lckhUTUwgKz0gJzxicj4nOwogICAgICBkaXYuaW5uZXJIVE1MICs9ICI8cD5DYXBpdGFsOiAiLmNvbmNhdCh0aGlzLmFwaVJlc3VsdHMuY2FwaXRhbCwgIjwvcD4iKTsKICAgICAgZGl2LmlubmVySFRNTCArPSAiPHA+U3ViIFJlZ2lvbjogIi5jb25jYXQodGhpcy5hcGlSZXN1bHRzLnN1YnJlZ2lvbiwgIjwvcD4iKTsKICAgICAgZGl2LmlubmVySFRNTCArPSAiPHA+TW9uZWRhOiAiLmNvbmNhdCh0aGlzLmFwaVJlc3VsdHMuY3VycmVuY2llc1swXS5uYW1lLCAiICIpLmNvbmNhdCh0aGlzLmFwaVJlc3VsdHMuY3VycmVuY2llc1swXS5zeW1ib2wsICI8L3A+Iik7CiAgICAgIGRpdi5pbm5lckhUTUwgKz0gIjxpbWcgY2xhc3M9XCJmbHVpZFwiIHN0eWxlPVwiaGVpZ2h0OjkwcHg7d2lkdGg6OTBweDtcIiBzcmM9XCIiLmNvbmNhdCh0aGlzLmFwaVJlc3VsdHMuZmxhZywgIlwiIGFsdD1cIkNvdW50cnkgZmxhZ1wiPjwvaW1nPiIpOwoKICAgICAgaW5mb3JtYXRpb25Cb3gub25BZGQgPSBmdW5jdGlvbiAobWFwKSB7CiAgICAgICAgcmV0dXJuIGRpdjsKICAgICAgfTsKCiAgICAgIGluZm9ybWF0aW9uQm94LmFkZFRvKHRoaXMubWFwKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhcGlSZXN1bHRzOiBmdW5jdGlvbiBhcGlSZXN1bHRzKCkgewogICAgICB2YXIgY29vcmRpbmF0ZXMgPSB0aGlzLmFwaVJlc3VsdHMubGF0bG5nOwogICAgICB0aGlzLm1hcmtDb29yZGluYXRlcyhjb29yZGluYXRlcyk7CiAgICAgIHRoaXMubWFwSW5mb3JtYXRpb25Db250cm9sKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Map.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"map\"></div>\r\n</template>\r\n\r\n<script>\r\nimport { bus } from '../main'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      map: null,\r\n      apiResults:null,\r\n      marker: null\r\n    }\r\n  },\r\n  created (){\r\n    bus.$on('user-input', (userInput) => {\r\n      this.getCountryInformation(userInput);\r\n    })\r\n  },\r\n  mounted() {\r\n    this.prepareMap();\r\n  },\r\n  methods: {\r\n    getCountryInformation: function (userInput) {\r\n      let self = this;\r\n      fetch(`https://restcountries.eu/rest/v2/name/${userInput}`)\r\n      .then(response => response.json())    \r\n      .then(data => self.apiResults = data[0])\r\n    },\r\n    prepareMap: function () {\r\n      /* eslint-disable */ \r\n      this.map = L.map('map').setView([18.2388, -66.0352], 13);\r\n      let mainlayer = L.tileLayer(\r\n          'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n          {\r\n              maxZoom: 18,\r\n              attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, &copy; <a href=\"https://carto.com/attribution\">CARTO</a>',\r\n          }\r\n      );\r\n      mainlayer.addTo(this.map);\r\n    },\r\n    markCoordinates: function (coordinates) {\r\n      if(this.marker)\r\n        this.map.removeLayer(this.marker);\r\n      this.marker = L.marker(coordinates).addTo(this.map);\r\n      this.map.flyTo(coordinates, 10);\r\n    },\r\n    mapInformationControl: function () {\r\n      let element = document.getElementById('leaflet-information-box');\r\n      if(element)\r\n        element.parentNode.removeChild(element);\r\n      let self = this;\r\n      let informationBox = L.control({position: 'bottomleft'});\r\n      let div = L.DomUtil.create('div', 'leaflet-bar leaflet-control leaflet-control-custom');\r\n      div.id = 'leaflet-information-box'\r\n      div.style.backgroundColor = 'white';\r\n      div.style.width = '100%';\r\n      div.style.paddingTop = '10px';\r\n      div.style.paddingLeft = '7px';\r\n      div.style.height = '400px';\r\n      div.data_toggle = 'control-sidebar';\r\n      div.style.overflow = 'auto';\r\n      div.innerHTML += `<h5>Informacion sobre: ${this.apiResults.name}</h5>`;\r\n      div.innerHTML += '<br>'\r\n      div.innerHTML += `<p>Capital: ${this.apiResults.capital}</p>`\r\n      div.innerHTML += `<p>Sub Region: ${this.apiResults.subregion}</p>`\r\n      div.innerHTML += `<p>Moneda: ${this.apiResults.currencies[0].name} ${this.apiResults.currencies[0].symbol}</p>`\r\n      div.innerHTML += `<img class=\"fluid\" style=\"height:90px;width:90px;\" src=\"${this.apiResults.flag}\" alt=\"Country flag\"></img>`\r\n      informationBox.onAdd = function (map) {\r\n        return div;\r\n      }   \r\n      informationBox.addTo(this.map);\r\n    }\r\n  },\r\n  watch : {\r\n    apiResults () {\r\n      let coordinates = this.apiResults.latlng;\r\n      this.markCoordinates(coordinates);\r\n      this.mapInformationControl();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n#map { \r\n  height: 600px;\r\n  width: 100% \r\n}\r\n\r\n</style>"],"sourceRoot":"src/components"}]}